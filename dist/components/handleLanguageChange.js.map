{"version":3,"file":"handleLanguageChange.js","names":["React","Cookies","getConfig","setCookie","name","value","days","domain","expires","date","Date","setTime","getTime","concat","toUTCString","document","cookie","getCookie","cookieName","cookies","get","getCurrentLanguageCode","LANGUAGE_PREFERENCE_COOKIE_NAME","getLMSDomain","LMS_BASE_URL","replace","getStudioDomain","STUDIO_BASE_URL","handleLanguageChange","e","target","setTimeout","window","location","reload"],"sources":["../../src/components/handleLanguageChange.jsx"],"sourcesContent":["import React from 'react';\nimport Cookies from 'universal-cookie';\nimport { getConfig } from '@edx/frontend-platform';\n\nexport const setCookie = (name, value, days, domain) => {\n  let expires = '';\n  if (days) {\n    const date = new Date();\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n    expires = `; expires=${date.toUTCString()}`;\n  }\n  document.cookie = `${name}=${value || ''}${expires}; path=/;domain=${domain}`;\n};\n\nexport function getCookie(cookieName) {\n  const cookies = new Cookies();\n  return cookies.get(cookieName);\n}\n\nexport const getCurrentLanguageCode = () => getCookie(getConfig().LANGUAGE_PREFERENCE_COOKIE_NAME) || 'en';\nconst getLMSDomain = () => `.${getConfig().LMS_BASE_URL.replace('https://', '')}`;\nconst getStudioDomain = () => `.${getConfig().STUDIO_BASE_URL.replace('https://', '')}`;\n\nexport const handleLanguageChange = (e) => {\n  const value = e.target.value;\n  setCookie(getConfig().LANGUAGE_PREFERENCE_COOKIE_NAME, value, 30, getLMSDomain());\n  setCookie(getConfig().LANGUAGE_PREFERENCE_COOKIE_NAME, value, 30, getStudioDomain());\n  setTimeout(() => {\n    window.location.reload();\n  }, 50);\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,kBAAkB;AACtC,SAASC,SAAS,QAAQ,wBAAwB;AAElD,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,IAAI,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAK;EACtD,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIF,IAAI,EAAE;IACR,IAAMG,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACvBD,IAAI,CAACE,OAAO,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAIN,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAK,CAAC;IAC3DE,OAAO,gBAAAK,MAAA,CAAgBJ,IAAI,CAACK,WAAW,CAAC,CAAC,CAAE;EAC7C;EACAC,QAAQ,CAACC,MAAM,MAAAH,MAAA,CAAMT,IAAI,OAAAS,MAAA,CAAIR,KAAK,IAAI,EAAE,EAAAQ,MAAA,CAAGL,OAAO,sBAAAK,MAAA,CAAmBN,MAAM,CAAE;AAC/E,CAAC;AAED,OAAO,SAASU,SAASA,CAACC,UAAU,EAAE;EACpC,IAAMC,OAAO,GAAG,IAAIlB,OAAO,CAAC,CAAC;EAC7B,OAAOkB,OAAO,CAACC,GAAG,CAACF,UAAU,CAAC;AAChC;AAEA,OAAO,IAAMG,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAA;EAAA,OAASJ,SAAS,CAACf,SAAS,CAAC,CAAC,CAACoB,+BAA+B,CAAC,IAAI,IAAI;AAAA;AAC1G,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA;EAAA,WAAAV,MAAA,CAAaX,SAAS,CAAC,CAAC,CAACsB,YAAY,CAACC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;AAAA,CAAE;AACjF,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAA;EAAA,WAAAb,MAAA,CAAaX,SAAS,CAAC,CAAC,CAACyB,eAAe,CAACF,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;AAAA,CAAE;AAEvF,OAAO,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,CAAC,EAAK;EACzC,IAAMxB,KAAK,GAAGwB,CAAC,CAACC,MAAM,CAACzB,KAAK;EAC5BF,SAAS,CAACD,SAAS,CAAC,CAAC,CAACoB,+BAA+B,EAAEjB,KAAK,EAAE,EAAE,EAAEkB,YAAY,CAAC,CAAC,CAAC;EACjFpB,SAAS,CAACD,SAAS,CAAC,CAAC,CAACoB,+BAA+B,EAAEjB,KAAK,EAAE,EAAE,EAAEqB,eAAe,CAAC,CAAC,CAAC;EACpFK,UAAU,CAAC,YAAM;IACfC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;AACR,CAAC","ignoreList":[]}